api:
  dashboard: true  
  debug: true
  insecure: true
entryPoints:
  http:
    address: ":80"
    http:
      redirections:
        entryPoint:
          to: https
          scheme: https
  https:
    address: ":443"
serversTransport:
  insecureSkipVerify: true

providers:
  docker:
    endpoint: "unix:///var/run/docker.sock"
    #endpoint: "tcp://ignignokt.home.youngsecurity.net:2376"
    exposedByDefault: false
    network: macvlan255
    #tls:
    #  ca: /home/devusr/.docker/ca-docker.pem
    #  cert: /home/devusr/.docker/client-docker-cert.pem # path to public cert used for secure connection to docker daemon
    #  key: /home/devusr/.docker/key-docker-client.pem
  # file:
  #   filename: /config.yml

certificatesResolvers:
  cloudflare:
    acme:
      email: redlinejoes.net@gmail.com
      storage: acme.json
      #caServer: https://acme-v02.api.letsencrypt.org/directory # prod (default)
      caServer: https://acme-staging-v02.api.letsencrypt.org/directory # staging  
      dnsChallenge:
        # used during the challenge
        provider: cloudflare
        resolvers:
          - "1.1.1.1:53"
          - "1.0.0.1:53"
        #disablePropagationCheck: true
        #delayBeforeCheck: 60s # uncomment along with disablePropagationCheck if needed to ensure the TXT record is ready before verification is attempted